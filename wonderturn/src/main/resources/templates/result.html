<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Результат</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="../static/tester2.css" th:href="@{/tester2.css}" rel="stylesheet" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body class="page">
    <div class="block">
        <p>Ваш результат составляет</p>
        <h1 id="h1"></h1><br>
        <svg width="40%" height="40%" viewBox="0 0 42 42" class="donut">
            <circle id="hole" cx="21" cy="21" r="15" fill="#fff"></circle>
            <circle id="ring" cx="21" cy="21" r="15" fill="transparent" stroke="#d2d3d4" stroke-width="3"></circle>
            <circle id="segment" cx="21" cy="21" r="15" fill="transparent" stroke="#49cafe" stroke-width="3" stroke-dasharray="100 0" stroke-dashoffset="25"></circle>
        </svg>
        <a href="/"><p>_Закончить_</p></a><br>
        <a href="/results"><p>_Посмотреть результаты_</p></a>
    </div>


    <script th:inline="javascript">
        var h1 = document.getElementById("h1");
        var diag = document.getElementById("segment");

        /*<![CDATA[*/
            qCount = /*[[${qCount}]]*/ 'default';
            r_qCount = /*[[${r_qCount}]]*/ 'default';
        /*]]>*/

        h1.innerHTML = String(r_qCount) + "/" + String(qCount);
        var str_arr = String((r_qCount/qCount) * 100) + " " + String((qCount - r_qCount)/qCount * 100);
        diag.setAttribute('stroke-dasharray', str_arr);
    </script>
</body>
</html>